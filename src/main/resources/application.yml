server:
  port: ${PORT:8080}
  servlet:
    context-path: /api

spring:
  application:
    name: Aerotickets

  # üëá IMPORTA variables desde archivos .env*.properties en la RA√çZ del proyecto
  #    - Carga .env.dev.properties cuando el perfil activo es "dev"
  #    - Carga .env.properties si existe (com√∫n para todos los perfiles)
  config:
    import: >
      optional:file:.env.${spring.profiles.active}.properties,
      optional:file:.env.properties

  jpa:
    open-in-view: false
    show-sql: false

# =========================
# üîê JWT (lo lee JwtService)
# =========================
jwt:
  secret: ${JWT_SECRET}
  expiration-minutes: ${JWT_EXPIRATION_MINUTES:120}

# =========================
# üåê CORS (lo usa SecurityConfig)
# =========================
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173}

# =========================
# üìù LOGGING
# =========================
logging:
  file:
    name: logs/aerotickets.log
  level:
    root: INFO
    com.aerotickets: DEBUG
    org.springframework.security: INFO
    org.springframework.web: INFO
    org.hibernate.SQL: WARN
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} | %clr(%-5level){cyan} | %clr(%logger{36}){blue} | %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} | %-5level | %logger{36} | %msg%n"

# =========================
# üìä ACTUATOR (health)
# =========================
management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when_authorized
  health:
    defaults:
      enabled: true

# =========================
# üì° EXTERNAL APIs (opcional)
# =========================
external:
  apis:
    airlabs:
      base-url: ${AIRLABS_BASE_URL:https://airlabs.co/api/v9}
      api-key: ${AIRLABS_API_KEY:}